<div class="goal-container">


    <!-- Messages -->
    <% if @error %>
        <div class="goal-message goal-error">
            <%= @error %>
        </div>
    <% elsif @success %>
        <div class="goal-message goal-success">
            <%= @success %>
        </div>
    <% end %>

    <!-- No goals state -->
    <% if @saving_goals.empty? %>
        <div class="goal-empty-state">
            <h2>No tienes metas de ahorro</h2>
            <p>Crea tu primera meta para comenzar a ahorrar</p>
            <a href="/saving_goals/new" class="goal-btn goal-btn-primary">Crear Primera Meta</a>
        </div>
    <% else %>
        
        <!-- Goals List -->
        <div class="goal-list">
            <div class="goal-list-header">
                <h2>Tus Metas de Ahorro</h2>
                <a href="/saving_goals/new" class="goal-btn goal-btn-secondary">Nueva Meta</a>
            </div>

            <% @saving_goals.each do |goal| %>
                <div class="goal-item">
                    <div class="goal-info">
                        <h3><%= goal.name %></h3>
                        <div class="goal-amounts">
                            <span class="goal-saved">$<%= '%.2f' % goal.saved_amount %></span>
                            <span class="goal-separator">de</span>
                            <span class="goal-target">$<%= '%.2f' % goal.target_amount %></span>
                        </div>
                        <div class="goal-progress-bar">
                            <div class="goal-progress-fill" style="width: <%= [goal.progress, 100].min %>%"></div>
                        </div>
                        <div class="goal-progress-text"><%= goal.progress %>% completado</div>
                    </div>
                    <div class="goal-actions">
                        <a href="/saving_goals/<%= goal.id %>" class="goal-btn goal-btn-outline">Ver Detalles</a>
                    </div>
                </div>
            <% end %>
        </div>
    <% end %>
</div>
